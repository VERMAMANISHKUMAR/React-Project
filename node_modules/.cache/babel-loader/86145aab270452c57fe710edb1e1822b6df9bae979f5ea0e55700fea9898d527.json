{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useSelector,useDispatch}from'react-redux';import{fetchProducts,updateProduct,deleteProduct}from'../redux/slices/productsSlice';import{toast,ToastContainer}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import'../Style Folder/AddMyProduct.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductList=()=>{const dispatch=useDispatch();const products=useSelector(state=>state.products.items);const[editingProduct,setEditingProduct]=useState(null);const[formData,setFormData]=useState({name:'',price:'',description:''});useEffect(()=>{dispatch(fetchProducts());},[dispatch]);const handleEdit=product=>{setEditingProduct(product);setFormData({name:product.name,price:product.price,description:product.description});};const handleChange=e=>{const{name,value}=e.target;setFormData(prevData=>({...prevData,[name]:value}));};const handleSave=()=>{if(!formData.name||!formData.price||!formData.description){toast.error('All fields are required!');return;}const updatedProduct={...editingProduct,...formData};dispatch(updateProduct(updatedProduct));toast.success('Updated successfully!');setEditingProduct(null);};const handleCancel=()=>{setEditingProduct(null);};const handleEditImage=product=>{const fileInput=document.createElement('input');fileInput.type='file';fileInput.accept='image/*';fileInput.onchange=e=>{const file=e.target.files[0];if(file){const reader=new FileReader();reader.onloadend=()=>{dispatch(updateProduct({...product,image:reader.result}));toast.success('Image updated !');};reader.readAsDataURL(file);}};fileInput.click();};const handleDelete=id=>{dispatch(deleteProduct(id));toast.success('Deleted successfully!');};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-container\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"div\",{className:\"product-list\",children:products.map(product=>/*#__PURE__*/_jsx(\"div\",{className:\"product-card\",children:editingProduct&&editingProduct.id===product.id?/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Edit Product\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Price:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",value:formData.price,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Description:\",/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:formData.description,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"save-button\",onClick:handleSave,children:\"Save\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"cancel-button\",onClick:handleCancel,children:\"Cancel\"})})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image\",children:product.image?/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name}):/*#__PURE__*/_jsx(\"p\",{children:\"No Image Available\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"product-name\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[\"Price: $\",product.price]}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:product.description}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"edit-image-button\",onClick:()=>handleEditImage(product),children:\"Edit Image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"edit-button\",onClick:()=>handleEdit(product),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-button\",onClick:()=>handleDelete(product.id),children:\"Delete\"})]})]})]})},product.id))})]});};export default ProductList;","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","fetchProducts","updateProduct","deleteProduct","toast","ToastContainer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductList","dispatch","products","state","items","editingProduct","setEditingProduct","formData","setFormData","name","price","description","handleEdit","product","handleChange","e","value","target","prevData","handleSave","error","updatedProduct","success","handleCancel","handleEditImage","fileInput","document","createElement","type","accept","onchange","file","files","reader","FileReader","onloadend","image","result","readAsDataURL","click","handleDelete","id","className","children","map","onChange","onClick","src","alt"],"sources":["D:/ecommerce/Ecom Project/src/components/AddMyProduct.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchProducts, updateProduct, deleteProduct } from '../redux/slices/productsSlice';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport '../Style Folder/AddMyProduct.css'; \r\n\r\nconst ProductList = () => {\r\n  const dispatch = useDispatch();\r\n  const products = useSelector((state) => state.products.items);\r\n  const [editingProduct, setEditingProduct] = useState(null);\r\n  const [formData, setFormData] = useState({ name: '', price: '', description: '' });\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchProducts());\r\n  }, [dispatch]);\r\n\r\n  const handleEdit = (product) => {\r\n    setEditingProduct(product);\r\n    setFormData({\r\n      name: product.name,\r\n      price: product.price,\r\n      description: product.description,\r\n    });\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevData) => ({ ...prevData, [name]: value }));\r\n  };\r\n\r\n  const handleSave = () => {\r\n    if (!formData.name || !formData.price || !formData.description) {\r\n      toast.error('All fields are required!');\r\n      return;\r\n    }\r\n\r\n    const updatedProduct = { ...editingProduct, ...formData };\r\n    dispatch(updateProduct(updatedProduct));\r\n    toast.success('Updated successfully!');\r\n    setEditingProduct(null);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setEditingProduct(null);\r\n  };\r\n\r\n  const handleEditImage = (product) => {\r\n    const fileInput = document.createElement('input');\r\n    fileInput.type = 'file';\r\n    fileInput.accept = 'image/*';\r\n    fileInput.onchange = (e) => {\r\n      const file = e.target.files[0];\r\n      if (file) {\r\n        const reader = new FileReader();\r\n        reader.onloadend = () => {\r\n          dispatch(updateProduct({ ...product, image: reader.result }));\r\n          toast.success('Image updated !');\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    };\r\n    fileInput.click();\r\n  };\r\n\r\n  const handleDelete = (id) => {\r\n    dispatch(deleteProduct(id));\r\n    toast.success('Deleted successfully!');\r\n  };\r\n\r\n  return (\r\n    <div className=\"product-container\">\r\n      <ToastContainer />\r\n      <div className=\"product-list\">\r\n        {products.map((product) => (\r\n          <div className=\"product-card\" key={product.id}>\r\n            {editingProduct && editingProduct.id === product.id ? (\r\n              <div className=\"edit-form\">\r\n                <h5>Edit Product</h5>\r\n                <label>\r\n                  Name:\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    value={formData.name}\r\n                    onChange={handleChange}\r\n                  />\r\n                </label>\r\n                <label>\r\n                  Price:\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"price\"\r\n                    value={formData.price}\r\n                    onChange={handleChange}\r\n                  />\r\n                </label>\r\n                <label>\r\n                  Description:\r\n                  <textarea\r\n                    name=\"description\"\r\n                    value={formData.description}\r\n                    onChange={handleChange}\r\n                  />\r\n                </label>\r\n                <div className='button'>\r\n                <div>\r\n                <button className=\"save-button\" onClick={handleSave}>\r\n                  Save\r\n                </button>\r\n                </div>\r\n                <div>\r\n                <button className=\"cancel-button\" onClick={handleCancel}>\r\n                  Cancel\r\n                </button>\r\n                </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <>\r\n              <div className=\"product-image\">\r\n                  {product.image ? (\r\n                    <img src={product.image} alt={product.name} />\r\n                  ) : (\r\n                    <p>No Image Available</p>\r\n                  )}\r\n                  \r\n                </div>\r\n                <div className=\"product-info\">\r\n                  <h5 className=\"product-name\">{product.name}</h5>\r\n                  <p className=\"product-price\">Price: ${product.price}</p>\r\n                  <p className=\"product-description\">{product.description}</p>\r\n                  <div></div>\r\n                  <button\r\n                    className=\"edit-image-button\"\r\n                    onClick={() => handleEditImage(product)}\r\n                  >\r\n                    Edit Image\r\n                  </button>\r\n                  <div className=\"product-actions\">\r\n                  \r\n                    <button\r\n                      className=\"edit-button\"\r\n                      onClick={() => handleEdit(product)}\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                    <button\r\n                      className=\"delete-button\"\r\n                      onClick={() => handleDelete(product.id)}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}