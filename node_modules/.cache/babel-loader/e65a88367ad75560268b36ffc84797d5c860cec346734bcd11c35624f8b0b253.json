{"ast":null,"code":"import React,{useEffect,useState}from'react';import{toast,ToastContainer}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{useDispatch}from'react-redux';import{addToCart}from'../redux/slices/cartSlice';import{Link}from'react-router-dom';import'../Style Folder/ProductList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductList=()=>{const[products,setProducts]=useState([]);const[sortByPrice,setSortByPrice]=useState(false);// const [editProductTitle, setEditProducTtitle]=useState(\"\")\n// const[editProductPrice, setEditProductPrice]=useState(null)\n// const[editProductDiscription, setEditProductDiscription]=useState(\"\")\n// const[editProductId, setEditProductId]=useState(null)\nconst dispatch=useDispatch();useEffect(()=>{const fetchProductsFromApi=async()=>{try{const response=await fetch('https://fakestoreapi.com/products');const data=await response.json();setProducts(data);}catch(error){toast.error('Failed to load products!');}};fetchProductsFromApi();},[]);const handleAddToCart=product=>{dispatch(addToCart({...product,quantity:1}));toast.success('Product added to cart!');};const sortedProducts=sortByPrice?[...products].sort((a,b)=>a.price-b.price):products;return/*#__PURE__*/_jsxs(\"div\",{className:\"product-container\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"button\",{className:\"sortByPrice\",onClick:()=>setSortByPrice(!sortByPrice),children:sortByPrice?'Sort by Price (Low to High)':'Sort by Price (High to Low)'}),/*#__PURE__*/_jsx(\"div\",{className:\"product-list\",children:sortedProducts.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image\",children:product.image?/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.title}):/*#__PURE__*/_jsx(\"p\",{children:\"No Image Available\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"product-name\",children:product.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[\"Price: $\",product.price]}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:product.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"AddtoCardButton\",onClick:()=>handleAddToCart(product),children:\"Add to Cart\"}),/*#__PURE__*/_jsx(Link,{to:\"/shopingcardpage\",className:\"GoToCardPage\",children:\"Go to Cart\"})]})]})]},product.id))})]});};export default ProductList;","map":{"version":3,"names":["React","useEffect","useState","toast","ToastContainer","useDispatch","addToCart","Link","jsx","_jsx","jsxs","_jsxs","ProductList","products","setProducts","sortByPrice","setSortByPrice","dispatch","fetchProductsFromApi","response","fetch","data","json","error","handleAddToCart","product","quantity","success","sortedProducts","sort","a","b","price","className","children","onClick","map","image","src","alt","title","description","to","id"],"sources":["D:/ecommerce/Ecom Project/src/components/ProductList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addToCart } from '../redux/slices/cartSlice';\r\nimport { Link } from 'react-router-dom';\r\nimport '../Style Folder/ProductList.css';\r\n\r\nconst ProductList = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [sortByPrice, setSortByPrice] = useState(false);\r\n  // const [editProductTitle, setEditProducTtitle]=useState(\"\")\r\n  // const[editProductPrice, setEditProductPrice]=useState(null)\r\n  // const[editProductDiscription, setEditProductDiscription]=useState(\"\")\r\n  // const[editProductId, setEditProductId]=useState(null)\r\n\r\n  const dispatch = useDispatch(); \r\n\r\n  useEffect(() => {\r\n    const fetchProductsFromApi = async () => {\r\n      try {\r\n        const response = await fetch('https://fakestoreapi.com/products');\r\n        const data = await response.json();\r\n        setProducts(data);\r\n      } catch (error) {\r\n        toast.error('Failed to load products!');\r\n      }\r\n    };\r\n\r\n    fetchProductsFromApi();\r\n  }, []);\r\n\r\n  const handleAddToCart = (product) => {\r\n    dispatch(addToCart({ ...product, quantity: 1 }));\r\n    toast.success('Product added to cart!');\r\n  };\r\n\r\n  const sortedProducts = sortByPrice\r\n    ? [...products].sort((a, b) => a.price - b.price)\r\n    : products;\r\n\r\n  return (\r\n    <div className=\"product-container\">\r\n      <ToastContainer />\r\n      <button\r\n        className=\"sortByPrice\"\r\n        onClick={() => setSortByPrice(!sortByPrice)}\r\n      >\r\n        {sortByPrice ? 'Sort by Price (Low to High)' : 'Sort by Price (High to Low)'}\r\n      </button>\r\n      <div className=\"product-list\">\r\n        {sortedProducts.map((product) => (\r\n          <div className=\"product-card\" key={product.id}>\r\n            <div className=\"product-image\">\r\n              {product.image ? (\r\n                <img src={product.image} alt={product.title} />\r\n              ) : (\r\n                <p>No Image Available</p>\r\n              )}\r\n            </div>\r\n            <div className=\"product-info\">\r\n              <h5 className=\"product-name\">{product.title}</h5>\r\n              <p className=\"product-price\">Price: ${product.price}</p>\r\n              <p className=\"product-description\">{product.description}</p>\r\n              <div className=\"product-actions\">\r\n                <button\r\n                  className=\"AddtoCardButton\"\r\n                  onClick={() => handleAddToCart(product)}\r\n                >\r\n                  Add to Cart\r\n                </button>\r\n                <Link\r\n                  to=\"/shopingcardpage\"\r\n                  className=\"GoToCardPage\"\r\n                >\r\n                  Go to Cart\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}