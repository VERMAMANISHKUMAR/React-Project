{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useSelector,useDispatch}from'react-redux';import{removeFromCart}from'../redux/slices/cartSlice';import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import'../Style Folder/CardPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CartPage=()=>{const[products,setProducts]=useState([]);// To store products from the API\nconst cartItems=useSelector(state=>state.cart.items);const cartCount=cartItems.length;const dispatch=useDispatch();// Fetch product data from the API\nuseEffect(()=>{const fetchProducts=async()=>{try{const response=await fetch('https://fakestoreapi.com/products');const data=await response.json();setProducts(data);// Set products in state\n}catch(error){toast.error('Failed to fetch product data.');}};fetchProducts();},[]);const handleRemove=id=>{dispatch(removeFromCart(id));toast.success('Item removed from cart.');};// Map cart items to include product details\nconst cartProductDetails=cartItems.map(cartItem=>{const product=products.find(p=>p.id===cartItem.id);return{...cartItem,name:(product===null||product===void 0?void 0:product.title)||'Unknown Product',price:(product===null||product===void 0?void 0:product.price)||0,image:(product===null||product===void 0?void 0:product.image)||''};});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Shopping Cart\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Items: \",cartCount]}),cartCount===0?/*#__PURE__*/_jsx(\"p\",{children:\"Your cart is empty.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:cartProductDetails.map(item=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-4\",children:[item.image&&/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,className:\"card-img-top\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:item.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Price: $\",item.price.toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>handleRemove(item.id),children:\"Remove\"})]})]})},item.id))})]});};export default CartPage;","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","removeFromCart","toast","jsx","_jsx","jsxs","_jsxs","CartPage","products","setProducts","cartItems","state","cart","items","cartCount","length","dispatch","fetchProducts","response","fetch","data","json","error","handleRemove","id","success","cartProductDetails","map","cartItem","product","find","p","name","title","price","image","className","children","item","src","alt","toFixed","onClick"],"sources":["D:/ecommerce/Ecom Project/src/components/CartPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { removeFromCart } from '../redux/slices/cartSlice';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport '../Style Folder/CardPage.css';\r\n\r\nconst CartPage = () => {\r\n  const [products, setProducts] = useState([]); // To store products from the API\r\n  const cartItems = useSelector((state) => state.cart.items); \r\n  const cartCount = cartItems.length;\r\n  const dispatch = useDispatch();\r\n\r\n  // Fetch product data from the API\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const response = await fetch('https://fakestoreapi.com/products');\r\n        const data = await response.json();\r\n        setProducts(data); // Set products in state\r\n      } catch (error) {\r\n        toast.error('Failed to fetch product data.');\r\n      }\r\n    };\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const handleRemove = (id) => {\r\n    dispatch(removeFromCart(id));\r\n    toast.success('Item removed from cart.');\r\n  };\r\n\r\n  // Map cart items to include product details\r\n  const cartProductDetails = cartItems.map((cartItem) => {\r\n    const product = products.find((p) => p.id === cartItem.id);\r\n    return {\r\n      ...cartItem,\r\n      name: product?.title || 'Unknown Product',\r\n      price: product?.price || 0,\r\n      image: product?.image || '',\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <h2>Shopping Cart</h2>\r\n      <p>Total Items: {cartCount}</p>\r\n      {cartCount === 0 ? (\r\n        <p>Your cart is empty.</p>\r\n      ) : (\r\n        <div className=\"row\">\r\n          {cartProductDetails.map((item) => (\r\n            <div className=\"col-md-4\" key={item.id}>\r\n              <div className=\"card mb-4\">\r\n                {item.image && (\r\n                  <img\r\n                    src={item.image}\r\n                    alt={item.name}\r\n                    className=\"card-img-top\"\r\n                  />\r\n                )}\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\">{item.name}</h5>\r\n                  <p className=\"card-text\">Price: ${item.price.toFixed(2)}</p>\r\n                  <button\r\n                    className=\"btn btn-danger\"\r\n                    onClick={() => handleRemove(item.id)}\r\n                  >\r\n                    Remove\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}